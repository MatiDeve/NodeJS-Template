extends ./admin-layout.pug

block body
  .row.lmv
    .col-12
      p.adm-title CATEGORÍAS
    .col-12
      a.btn.btn-primary.btn-mg(href="./new") Añadir Categoría
  
  
  .row.lmv.mg-top
    if (alert)
      .col-12
        .alert.alert-danger!=alert
    if (success)
      .col-12
        .alert.alert-success!=success

    if categories && categories.length
      .col-12.mg-top
        .table-responsive
          table.table.text-center.table-hover
            thead.thead-dark
              tr
                th(scope="col") Nombre
                th(scope="col") Imagen
                th(scope="col") Operaciones
            tbody
              for category in categories
                tr
                  th(scope="row") #{category.name}
                  td 
                    img.table-img(src="/public/images/categories/"+category._id+"."+category.extension)
                  td.text-right
                    a.btn.btn-success.lmh.btn-mg(href="./"+category._id+"/edit") Actualizar
                    a.btn.btn-danger.lmh.btn-mg(href="./"+category._id+"/delete") Eliminar
    else
      .col-12.mg-top.text-center
        p No hay categorías.
